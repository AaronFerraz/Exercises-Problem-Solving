<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Document </title> 
</head>
<body>
    <script>
        function nativeSort(arr){
            arr.sort((a, b) => a - b)
        }

        function bubbleSort(list){ //0(n^2)
            let length = list.length;

            for(let i = 0; i < length; i ++){
                for(let j = 0; j < length - 1; j++){
                    if(list[j] > list[j + 1]){
                        const temp = list[j];
                        list[j] = list[j+1];
                        list[j+1] = temp;
                    }
                }
            }

            return list;
        }

        function selectionSort(list){ //0(n^2)
            for(let i = 0; i < list.length - 1; i++){
                let minIndex = i;

                for(let j = i+1; j < list.length; j++){
                    if(list[j] < list[minIndex]){
                        minIndex = j;
                    }
                }

                if(minIndex !== i){
                    const temp = list[i];
                    list[i] = list[minIndex];
                    list[minIndex] = temp
                }

            }

            return list;
        }


        //Testes
        //Nativo
        const arr = [2, 7, 4, 10, 1, 25]
        nativeSort(arr)
        console.log("Nativo: " + arr) // Expected output: [1,2,4,7,10,25]

        //Bubble Sort
        const arr2 = bubbleSort([2, 7, 4, 10, 1, 25])
        console.log("Bolha: " + arr2) // Expected output: [1,2,4,7,10,25]

        //Selection Sort
        const arr3 = selectionSort([2, 7, 4, 10, 1, 25])
        console.log("Seleção: " + arr3) // Expected output: [1,



        class MergeSort{ //O(log n)
            constructor(array){
                this.array = array;
            }

            sort(){
                this.array = this.mergeSort(this.array);
                return this.array;
            }

            mergeSort(array){
                if(array.length <= 1){
                    return array
                }

                const middle = parseInt(array.length / 2);
                const left = array.slice(0, middle);
                const right = array.slice(middle, array.length);

                return this.merge(this.mergeSort(left), this.mergeSort(right));
            }

            merge(left, right){
                const result = [];
                let leftIndex = 0;
                let rightIndex = 0;

                while(leftIndex < left.length && rightIndex < right.length){
                    if(left[leftIndex] < right[rightIndex]){
                        result.push(left[leftIndex]);
                        leftIndex++;
                    } else {
                        result.push(right[rightIndex]);
                        rightIndex++;
                    }
                }

                while(leftIndex < left.length){
                    result.push(left[leftIndex]);
                    leftIndex++;
                }

                while(rightIndex < right.length){
                    result.push(right[rightIndex]);
                    rightIndex++;
                }

                return result;
            }
        }

        const numeros = [34, 7, 23, 32, 5, 62, 78, 43]
        const sortear = new MergeSort(numeros);
        console.log(`Array Base [${numeros}] - Merge Sort: ${sortear.sort()}`)
    

        
        class QuickSort{
            constructor(array){
                this.array = array;
            }

            sort(){
                this.quickSort(0, this.array.length - 1);
                return this.array;
            }

            quickSort(start, end){
                // debugger 
                //f11 para ver cada parte do código entrando na lógica
                //f10 vai para o próximo passo
                if(start < end){
                    let pivotIndex = this.partition(start,end);
                    this.quickSort(start, pivotIndex - 1);
                    this.quickSort(pivotIndex + 1, end);
                }
            }

            partition(start, end){
                const midIndex = parseInt((start + end) / 2)
                const pivotValue = this.array[midIndex];

                let i = start;
                let j = end;

                while (i <= j){
                    while(this.array[i] < pivotValue){
                        i++;
                    }

                    while(this.array[j] > pivotValue){
                        j--;
                    }

                    if(i <= j){
                        this.swap(i, j);
                        i++;
                        j--;
                    }
                }
                console.log("i: ", i, " j: ", j);
                return i - 1
            }


            swap(i, j){
                const temp = this.array[i];
                this.array[i] = this.array[j];
                this.array[j] = temp
            }
        }

        const numeros2 = [34, 7, 23, 32, 5, 62, 78, 43]
        const sortear2 = new QuickSort(numeros2);
        console.log(`Array Base [${numeros2}] - Quick Sort: ${sortear2.sort()}`)

    </script>
</body>
</html>